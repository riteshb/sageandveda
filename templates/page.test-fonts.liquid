{% comment %} Font Loading Test Page Template {% endcomment %}

<div class="font-test-page">
  <div class="container">
    <h1>Font Loading Test</h1>
    
    <div class="test-section">
      <h2>Environment Detection</h2>
      <div class="font-info">
        <strong>Current Host:</strong> <span id="current-host"></span><br>
        <strong>Font Loading Method:</strong> <span id="font-method"></span>
      </div>
    </div>

    <div class="test-section">
      <h2>Poppins Font Tests</h2>
      <p class="poppins-regular">This is Poppins Regular (400) - The quick brown fox jumps over the lazy dog.</p>
      <p class="poppins-medium">This is Poppins Medium (500) - The quick brown fox jumps over the lazy dog.</p>
    </div>

    <div class="test-section">
      <h2>Mulish Font Tests</h2>
      <p class="mulish-regular">This is Mulish Regular (400) - The quick brown fox jumps over the lazy dog.</p>
      <p class="mulish-bold">This is Mulish Bold (700) - The quick brown fox jumps over the lazy dog.</p>
    </div>

    <div class="test-section">
      <h2>Americana Font Tests</h2>
      <p class="font-americana">This is Americana (Fallback) - The quick brown fox jumps over the lazy dog.</p>
    </div>

    <div class="test-section">
      <h2>Font Loading Status</h2>
      <div id="font-status">Checking fonts...</div>
    </div>
  </div>
</div>

<style>
  .font-test-page {
    padding: 40px 0;
  }
  .test-section {
    margin: 30px 0;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
  }
  .poppins-regular { font-family: 'Poppins', sans-serif; font-weight: 400; }
  .poppins-medium { font-family: 'Poppins', sans-serif; font-weight: 500; }
  .mulish-regular { font-family: 'Mulish', sans-serif; font-weight: 400; }
  .mulish-bold { font-family: 'Mulish', sans-serif; font-weight: 700; }
  .font-info {
    background: #f5f5f5;
    padding: 10px;
    border-radius: 4px;
    font-family: monospace;
    font-size: 12px;
  }
</style>

<script>
  // Display current host
  document.getElementById('current-host').textContent = window.location.host;
  
  // Determine font loading method
  if (window.location.host.includes('127.0.0.1') || 
      window.location.host.includes('localhost') || 
      window.location.host.includes('.local')) {
    document.getElementById('font-method').textContent = 'Local Fonts (Development)';
  } else {
    document.getElementById('font-method').textContent = 'Google Fonts CDN (Production)';
  }

  // Check if fonts are loaded
  document.fonts.ready.then(function() {
    const fonts = [
      { name: 'Poppins', weight: '400' },
      { name: 'Poppins', weight: '500' },
      { name: 'Mulish', weight: '400' },
      { name: 'Mulish', weight: '700' },
      { name: 'Americana', weight: '400' }
    ];

    let statusHtml = '<h3>Font Loading Results:</h3>';
    fonts.forEach(font => {
      const isLoaded = document.fonts.check(`12px "${font.name}"`, font.weight);
      const status = isLoaded ? '✅ Loaded' : '❌ Not Loaded';
      statusHtml += `<p><strong>${font.name} ${font.weight}:</strong> ${status}</p>`;
    });

    document.getElementById('font-status').innerHTML = statusHtml;
  });
</script>
